<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cndy.tt.mybatis.Member">
	
	<resultMap id="memberResult" type="Member">
        <result property="id" column="ID"/>
        <result property="first_name" column="FIRST_NAME"/>
        <result property="last_name" column="LAST_NAME"/>
        <result property="profile_path" column="PROFILE_PATH"/>
        <result property="member_class" column="MEM_CLASS"/>
        <result property="join_date" column="JOIN_DATE"/>
        <result property="use_date" column="USE_DATE"/>
        <result property="intro" column="INTRO"/>
        <result property="country" column="COUNTRY"/>
        <result property="gender" column="GENDER"/>
        <result property="birthday" column="BIRTHDAY"/>
        <result property="email" column="EMAIL"/>
	</resultMap>
	
	<insert id="memberInsert" parameterType="Member">
 		insert into MEMBER values(#{id}, #{first_name}, #{last_name}, null, 0, SYSDATE, SYSDATE, null, null, #{gender, jdbcType=VARCHAR}
 		, #{birthday}, #{email})
	</insert>

	<select id="checkIdSelect" resultType="long">
     <![CDATA[
    	select count(*) from MEMBER where id = #{id}
  	  ]]>
	</select>
	
	<select id="profileSelect" resultType="Member">
		select * from MEMBER where id = #{id}
	</select>
	
	<update id="profileUpdate" parameterType="Member">
		update MEMBER
		set first_name = #{first_name}, last_name = #{last_name}, profile_path = #{profile_path, jdbcType=VARCHAR}, intro = #{intro, jdbcType=VARCHAR}, 
		country = #{country, jdbcType=VARCHAR}, gender = #{gender, jdbcType=VARCHAR}, birthday = #{birthday, jdbcType=VARCHAR}, email = #{email} 
		where ID = #{id, jdbcType=VARCHAR}
	</update>
</mapper>