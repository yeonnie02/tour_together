<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cndy.tt.mybatis.Paging">
	
	<!-- 2. ROWNUM Query -->
	<select id="selectPaging" parameterType="PagingVo" resultType="Diary">
	  SELECT *
	  FROM (  SELECT ROWNUM RNUM, P.*
	      FROM (  SELECT *
	          FROM TOUR_DIARY
	          ORDER BY DIARY_NO DESC ) P )
	  WHERE RNUM BETWEEN #{start} AND #{last}
	</select>

	<!-- 2. Total Query -->
	<select id="selectTotalPaging" resultType="java.lang.Integer">
	  SELECT COUNT(*) FROM TOUR_DIARY
	</select>
	 
	<insert id="insert" parameterType="Diary">
	  INSERT INTO TOUR_DIARY
	  (SUBJECT)
	  VALUES (#{subject})
	</insert>
	
	<delete id="deleteAll">
	  DELETE FROM TOUR_DIARY
	</delete>

</mapper>



