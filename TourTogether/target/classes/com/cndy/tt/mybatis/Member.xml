<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cndy.tt.mybatis.Member">	
	<resultMap id="MemberResult" type="Member">
		<result property="email" column="EMAIL"/>
		<result property="telephone" column="TELEPHONE"/>
		<result property="pwd" column="PWD"/>
		<result property="firstname" column="FIRSTNAME"/>
		<result property="lastname" column="LASTNAME"/>
		<result property="profile_path" column="PROFILE_PATH"/>
		<result property="mem_class" column="MEM_CLASS"/>
		<result property="join_date" column="JOIN_DATE"/>
		<result property="usedate" column="USEDATE"/>
		<result property="intro" column="INTRO"/>
		<result property="country" column="COUNTRY"/>
        <result property="gender" column="GENDER"/>
	</resultMap>
	
	<select id="initDateSelectAll" resultType="Member">
       select JOIN_DATE from MEMBER_INFO <![CDATA[where JOIN_DATE <= SYSDATE]]> GROUP BY JOIN_DATE ORDER BY JOIN_DATE
    </select>
    
    <select id="initCountSelectAll" resultType="Integer">
       select COUNT(*) from MEMBER_INFO <![CDATA[where JOIN_DATE <= SYSDATE]]> GROUP BY JOIN_DATE ORDER BY JOIN_DATE
    </select>
    
    <select id="newDateList" resultType="Date" parameterType="map">
       <![CDATA[select JOIN_DATE from MEMBER_INFO where JOIN_DATE >= #{startDate} and JOIN_DATE <= #{endDate} GROUP BY JOIN_DATE ORDER BY JOIN_DATE]]>
    </select>
    
    <select id="newCountList" resultType="int" parameterType="map">
       <![CDATA[select COUNT(*) from MEMBER_INFO where JOIN_DATE >= #{startDate} and JOIN_DATE <= #{endDate} GROUP BY JOIN_DATE ORDER BY JOIN_DATE]]>
    </select>
    
    <select id="chartF" resultType="int">
       select count(*) from MEMBER_INFO where GENDER = 'F'
    </select>
    
    <select id="chartM" resultType="int">
       select count(*) from MEMBER_INFO where GENDER = 'M'
    </select>
    
    <select id="chartClsA" resultType="int">
       select count(*) from MEMBER_INFO where MEM_CLASS = 0
    </select>
    
    <select id="chartClsP" resultType="int">
       select count(*) from MEMBER_INFO where MEM_CLASS = 1
    </select>
</mapper>