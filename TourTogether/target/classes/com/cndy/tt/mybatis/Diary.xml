<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cndy.tt.mybatis.Diary">
	
	<resultMap id="addrResult" type="Diary">
        <result property="diary_no" column="DIARY_NO"/>
        <result property="email" column="EMAIL"/>
        <result property="title" column="TITLE"/>
        <result property="region" column="REGION"/>
        <result property="start_date" column="START_DATE"/>
        <result property="end_date" column="END_DATE"/>
        <result property="diary_content" column="DIARY_CONTENT"/>
        <result property="company" column="COMPANY"/>
        <result property="write_date" column="WRITE_DATE"/>
        <result property="count_read" column="COUNT_READ"/>
        <result property="photo_path" column="PHOTO_PATH"/>
	</resultMap>
	
	<select id="diarySelectAll" resultType="Diary">
       select * from TOUR_DIARY order by diary_no desc
    </select>
	
	<insert id="diaryInsert" parameterType="Diary">
	   insert into TOUR_DIARY values( TOUR_DIARY_SEQ.nextval, #{email}, #{title}, 
	   		#{region}, #{start_date}, #{end_date}, #{diary_content}, #{company}, 
	   		#{write_date}, #{count_read}, #{photo_path} )
	</insert>
	
	<delete id="diaryDelete" parameterType="long">
	   delete from TOUR_DIARY where DIARY_NO = #{diary_no}
	</delete>	 	
</mapper>